# Dart 1:
# -------
#
# Run unit tests:
#
#     $ pub run dart_dev test -P dart1
#
# Run integration tests:
#
#     $ pub run dart_dev test -P dart1 -P integration
#
#
# Dart 2:
# -------
#
# Run unit tests:
#
#     $ pub run dart_dev test -P dart1
#
# Run integration tests:
#
#     $ pub run dart_dev test -P dart2 -P integration
platforms:
  - chrome
  - vm

presets:
  unit:
    paths:
      - test/unit/

  integration:
    paths:
      - test/integration/
    concurrency: 1
    # The SockJS integration test server sometimes gets overloaded and rejects
    # connections. To mitigate this, retries are enabled and concurrency set to 1.
    retry: 3

  dart2:
    exclude_tags: "no-dart2"

  travis:
    reporter: expanded
